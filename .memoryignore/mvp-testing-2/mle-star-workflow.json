{
  "name": "MLE-STAR Workflow",
  "version": "2.0.0",
  "description": "Complete Machine Learning Engineering workflow using MLE-STAR methodology (Search and Targeted Refinement)",
  "variables": {
    "dataset_path": "${dataset}",
    "target_column": "${target}",
    "model_output_dir": "models/",
    "experiment_name": "mle_star_experiment",
    "search_iterations": "${search_iterations}",
    "refinement_iterations": "${refinement_iterations}",
    "nums_solutions": "${nums_solutions}",
    "task_description": "${task_description}"
  },
  "agents": [
    {
      "id": "research_agent",
      "type": "researcher",
      "name": "Web Search & Deep Research Agent",
      "config": {
        "capabilities": [
          "web_search", 
          "model_research", 
          "approach_validation"
        ],
        "search_depth": "comprehensive",
        "domains": [
          "machine_learning", 
          "data_science", 
          "kaggle_solutions",
          "huggingface_models",
          "github_repositories"
        ]
      }
    },
    {
      "id": "foundation_agent", 
      "type": "coder",
      "name": "Foundation Model Builder",
      "config": {
        "capabilities": [
          "data_preprocessing", 
          "initial_modeling", 
          "baseline_creation"
        ],
        "programming_languages": [
          "python", 
          "jupyter"
        ],
        "frameworks": [
          "scikit-learn", 
          "pandas", 
          "numpy", 
          "matplotlib"
        ]
      }
    },
    {
      "id": "refinement_agent",
      "type": "optimizer",
      "name": "Targeted Refinement Specialist", 
      "config": {
        "capabilities": [
          "feature_engineering", 
          "model_optimization", 
          "hyperparameter_tuning"
        ],
        "optimization_methods": [
          "grid_search", 
          "bayesian", 
          "evolutionary"
        ],
        "ablation_analysis": true
      }
    }
  ],
  "tasks": [
    {
      "id": "web_search",
      "name": "Web Search for SOTA Approaches",
      "type": "research",
      "description": "Read the user requirement {task_description} and generate {nums_solutions} kinds of machine learning algorithms, benchmarks, state-of-the-art github repository, kaggle solution and huggingface model from web search. Please ignore .memoryignore folder when processing the dataset.",
      "assignTo": "research_agent",
      "input": {
        "task_description": "${task_description}",
        "nums_solutions": "${nums_solutions}",
        "retry": "${search_iterations}",
        "search_queries": [
          "latest machine learning models in huggingface to solve ${problem_type}",
          "github latest solutions ${problem_type}",
          "state-of-the-art ${problem_type} benchmarks",
          "feature engineering techniques ${problem_type}",
          "the most famous algorithms for ${problem_type}"
        ]
      },
      "retries": "${search_iterations}",
      "output": {
        "recommended_approaches": "array",
        "code_examples": "array",
        "model_algorithms": "array", 
        "benchmark_results": "object"
      }
    },
    {
      "id": "dataset_analysis",
      "name": "Dataset Analysis & Profiling",
      "type": "analysis",
      "description": "Comprehensive analysis of dataset characteristics, quality, problem type identification and feature engineering recommendations. Please focus on the dataset {dataset_path} and the specific column {target} . Please ignore .memoryignore folder when processing the dataset.",
      "assignTo": "foundation_agent",
      "input": {
        "dataset_path": "${dataset_path}",
        "target": "${target_column}"
      },
      "output": {
        "problem_type": "string",
        "characteristics": "object",
        "data_quality_report": "object",
        "recommended_preprocessing": "array"
      }
    },    
    {
      "id": "targeted_refinement",
      "name": "Iterative Component Refinement",
      "type": "optimization",
      "description": "Deep, focused improvements on the highest-impact pipeline components identified through ablation. Please ignore .memoryignore folder when processing the dataset.",
      "assignTo": "refinement_agent",
      "depends": ["dataset_analysis", "web_search"],
      "input": {
        "target_component": "${dataset_analysis.output.highest_impact_component}", 
        "baseline_performance": "${dataset_analysis.output.impact_scores}",
        "improvement_strategies": "${dataset_analysis.output.improvement_opportunities}",
        "recommended_approaches": "${web_search.output.recommended_approaches}",
        "model_algorithms": "${web_search.output.model_algorithms}",
        "benchmark_results": "${web_search.output.benchmark_results}",
        "implementation_examples": "${web_search.output.code_examples}",
        "max_iterations": "${refinement_iterations}"
      },
      "output": {
        "optimized_components": "object",
        "performance_improvements": "object", 
        "refinement_history": "array",
        "best_configuration": "object"
      }
    }
  ],
  "dependencies": {
    "targeted_refinement": ["dataset_analysis", "web_search"]
  },
  "settings": {
    "maxConcurrency": 3,
    "timeout": 7200,
    "retryPolicy": "exponential",
    "failurePolicy": "continue",
    "quality_threshold": 0.8,
    "enable_monitoring": true,
    "save_intermediate_results": true,
    "auto_documentation": true
  },
  "metadata": {
    "methodology": "MLE-STAR",
    "version": "2.0.0",
    "created_by": "Claude Flow Automation",
    "tags": ["machine_learning", "automation", "mle_star", "ensemble", "optimization"],
    "description_detailed": "This workflow implements the MLE-STAR (Machine Learning Engineering via Search and Targeted Refinement) methodology. It starts with web search to find state-of-the-art approaches, builds a foundation model, performs ablation analysis to identify high-impact components, then deeply refines those components before creating intelligent ensembles and comprehensive validation.",
    "success_criteria": [
      "Performance improvement over baseline > 5%",
      "No data leakage detected",
      "Cross-validation score variance < 0.05",
      "All components properly documented"
    ]                                       
  }
}