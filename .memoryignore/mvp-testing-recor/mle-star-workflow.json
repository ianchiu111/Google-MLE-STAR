{
  "name": "MLE-STAR Workflow",
  "version": "2.0.0",
  "description": "Complete Machine Learning Engineering workflow using MLE-STAR methodology (Search and Targeted Refinement)",
  "variables": {
    "dataset_path": "${dataset}",
    "target_column": "${target}",
    "model_output_dir": "models/",
    "experiment_name": "mle_star_experiment",
    "search_iterations": 1,
    "refinement_iterations": "${refinement_iterations}"
  },
  "agents": [
    {
      "id": "foundation_agent", 
      "type": "coder",
      "name": "Foundation Model Builder",
      "config": {
        "capabilities": [
          "data_preprocessing", 
          "initial_modeling", 
          "baseline_creation"
        ],
        "programming_languages": [
          "python", 
          "jupyter"
        ],
        "frameworks": [
          "scikit-learn", 
          "pandas", 
          "numpy", 
          "matplotlib"
        ]
      }
    },
    {
      "id": "refinement_agent",
      "type": "optimizer",
      "name": "Targeted Refinement Specialist", 
      "config": {
        "capabilities": [
          "feature_engineering", 
          "model_optimization", 
          "hyperparameter_tuning"
        ],
        "optimization_methods": [
          "grid_search", 
          "bayesian", 
          "evolutionary"
        ],
        "ablation_analysis": true
      }
    }
  ],
  "tasks": [
    {
      "id": "dataset_analysis",
      "name": "Dataset Analysis & Profiling",
      "type": "analysis",
      "description": "Comprehensive analysis of dataset characteristics, quality, problem type identification and feature engineering recommendations. Please ignore .memoryignore folder when processing the dataset.",
      "assignTo": "foundation_agent",
      "input": {
        "dataset_path": "${dataset_path}",
        "target": "${target_column}"
      },
      "output": {
        "problem_type": "string",
        "characteristics": "object",
        "data_quality_report": "object",
        "recommended_preprocessing": "array"
      }
    },
    {
      "id": "targeted_refinement",
      "name": "Iterative Component Refinement",
      "type": "optimization",
      "description": "Deep, focused improvements on the highest-impact pipeline components identified through ablation. Please ignore .memoryignore folder when processing the dataset.",
      "assignTo": "refinement_agent",
      "depends": ["dataset_analysis"],
      "input": {
        "target_component": "${dataset_analysis.output.highest_impact_component}", 
        "baseline_performance": "${dataset_analysis.output.impact_scores}",
        "improvement_strategies": "${dataset_analysis.output.improvement_opportunities}",
        "max_iterations": "${refinement_iterations}"
      },
      "timeout": 2400,
      "output": {
        "optimized_components": "object",
        "performance_improvements": "object", 
        "refinement_history": "array",
        "best_configuration": "object"
      }
    }
  ],
  "dependencies": {
    "targeted_refinement": ["dataset_analysis"]
  },
  "settings": {
    "maxConcurrency": 3,
    "timeout": 7200,
    "retryPolicy": "exponential",
    "failurePolicy": "continue",
    "quality_threshold": 0.8,
    "enable_monitoring": true,
    "save_intermediate_results": true,
    "auto_documentation": true
  },
  "metadata": {
    "methodology": "MLE-STAR",
    "version": "2.0.0",
    "created_by": "Claude Flow Automation",
    "tags": ["machine_learning", "automation", "mle_star", "ensemble", "optimization"],
    "description_detailed": "This workflow implements the MLE-STAR (Machine Learning Engineering via Search and Targeted Refinement) methodology. It starts with web search to find state-of-the-art approaches, builds a foundation model, performs ablation analysis to identify high-impact components, then deeply refines those components before creating intelligent ensembles and comprehensive validation.",
    "success_criteria": [
      "Performance improvement over baseline > 5%",
      "No data leakage detected",
      "Cross-validation score variance < 0.05",
      "All components properly documented"
    ]
  }
}